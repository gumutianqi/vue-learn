<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>06. Vue组件的核心概念：事件</title>
</head>
<body>
<div id="app">
    {{message }} {{message + message}}
    <div v-bind:id="message"></div>
    <todo-list/>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
    Vue.component("todo-item", {
        props: {
            title: String,
            del: {
                type: Boolean,
                default: false
            }
        },
        template: `
        <li>
            <span v-if="!del">{{title}}</span>
            <span v-else style="text-decoration: line-through">{{title}}</span>
            <button v-show="!del" @click="handleClick">删除</button>
        </li>
        `,
        data: function () {
            return {}
        },
        methods: {
            handleClick(e) {
                console.log("点击删除按钮");
                this.$emit('delete', this.title);
            }
        }
    });

    Vue.component('todo-list', {
        template: `
        <ul>
            <todo-item @delete="handleDelete" v-for="item in list" :title="item.title" :del="item.del"></todo-item>
        </ul>
        `,
        data: function () {
            return {
                list: [
                    {
                        title: "课程 1",
                        del: false
                    },
                    {
                        title: "课程 2",
                        del: true
                    }
                ]
            }
        },
        methods: {
            handleDelete(title) {
                console.log("handleDelete: ", title);
            }
        }
    });

    let vm = new Vue({
        el: "#app",
        data: {
            message: "Hello-Vue.js",
        }
    });
</script>
</body>
</html>